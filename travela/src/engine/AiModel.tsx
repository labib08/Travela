import { GoogleGenerativeAI } from "@google/generative-ai";
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);

  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });

  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };


    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for location: Las Vegas for 3 days for Couple with a Cheap Budget, give me a Hotel option list with HotelName, HotelAddress, Price, HotelImage url, geo coordinates, rating, description and suggest itinerary with placeName, placeDetails, placeImage url, Geo Coordinates, ticketPricing, Time t travel each of the location for 3 days with each day plan with best time to visit in JSON format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON format travel plan for a 3-day trip to Las Vegas for a couple on a budget, along with hotel options and a detailed itinerary. I've focused on free or low-cost activities and dining to keep expenses down.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples (3 Days)\",\n  \"budget\": \"Cheap/Budget-Friendly\",\n  \"travelers\": \"Couple\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $60 per night (depending on deals and season)\",\n      \"hotelImage\": \"https://example.com/circus_circus_image.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1264,\n        \"longitude\": -115.1657\n      },\n      \"rating\": 3.5,\n      \"description\": \"Affordable option on the Strip, known for its circus acts and Adventuredome theme park. Basic rooms, but a good value if you're not spending much time in the room.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$40 - $70 per night (depending on deals and season)\",\n      \"hotelImage\": \"https://example.com/stratosphere_image.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1475,\n        \"longitude\": -115.1575\n      },\n      \"rating\": 3.5,\n      \"description\": \"Located at the north end of the Strip. Offers affordable rooms and a stunning view from the tower (tower access is an extra fee).  A bit further from the main action but often cheaper.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $65 per night (depending on deals and season)\",\n      \"hotelImage\": \"https://example.com/excalibur_image.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1743\n      },\n      \"rating\": 4.0,\n      \"description\": \"Medieval-themed hotel with affordable rates. Good location on the south end of the Strip, making it easy to explore other nearby hotels.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip & Free Attractions\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic photo opportunity. Arrive early to avoid crowds.\",\n          \"placeImage\": \"https://example.com/las_vegas_sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Variable (depending on hotel location), suggest Uber/Lyft or bus.\",\n          \"bestTimeToVisit\": \"Early morning (before 9 AM) or late evening (after 9 PM)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning free floral displays, changes seasonally.\",\n          \"placeImage\": \"https://example.com/bellagio_conservatory.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1761\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walking (if staying on the Strip), otherwise Uber/Lyft or bus.\",\n          \"bestTimeToVisit\": \"Mid-morning (10 AM - 12 PM) or mid-afternoon (2 PM - 4 PM)\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountain Show\",\n          \"placeDetails\": \"Spectacular free water show set to music.\",\n          \"placeImage\": \"https://example.com/bellagio_fountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1761\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Adjacent to the Conservatory.\",\n          \"bestTimeToVisit\": \"Anytime, but especially impressive at night (shows every 30 minutes in the afternoon and every 15 minutes in the evening). Check schedule online.\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Soak in the atmosphere, window shop, and people-watch.\",\n          \"placeImage\": \"https://example.com/las_vegas_strip.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"N/A (walking)\",\n          \"bestTimeToVisit\": \"Evening (for the lights and energy)\"\n        },\n        {\n          \"placeName\": \"Free Shows (Check Listings)\",\n          \"placeDetails\": \"Many casinos offer free entertainment, check schedules online or at hotel kiosks.\",\n          \"placeImage\": \"https://example.com/free_shows.jpg\",\n          \"geoCoordinates\": \"Depends on show location\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Varies\",\n          \"bestTimeToVisit\": \"Evening\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Vegas & Budget-Friendly Fun\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light and sound show on a pedestrian mall in old downtown Las Vegas.\",\n          \"placeImage\": \"https://example.com/fremont_street.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1701,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Uber/Lyft or bus from the Strip (approx. 20-30 minutes).\",\n          \"bestTimeToVisit\": \"Evening (for the Viva Vision light show)\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area built from shipping containers. Free entertainment.\",\n          \"placeImage\": \"https://example.com/container_park.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1685,\n            \"longitude\": -115.1401\n          },\n          \"ticketPricing\": \"Free (entry), costs for shopping/dining.\",\n          \"timeToTravel\": \"Short walk from Fremont Street.\",\n          \"bestTimeToVisit\": \"Evening\"\n        },\n        {\n          \"placeName\": \"Free Walking Tour of Downtown\",\n          \"placeDetails\": \"Look for free guided walking tours of the downtown area. Tips appreciated.\",\n          \"placeImage\": \"https://example.com/downtown_tour.jpg\",\n          \"geoCoordinates\": \"Meeting point varies\",\n          \"ticketPricing\": \"Free (tips appreciated)\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTimeToVisit\": \"Morning or afternoon (check tour schedules)\"\n        },\n        {\n          \"placeName\": \"Cheap Eats Downtown\",\n          \"placeDetails\": \"Downtown has many affordable dining options, including food trucks and casual restaurants.\",\n          \"placeImage\": \"https://example.com/cheap_eats.jpg\",\n          \"geoCoordinates\": \"Various locations\",\n          \"ticketPricing\": \"Varies\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTimeToVisit\": \"Lunch or Dinner\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Exploring Attractions & Relaxing\",\n      \"places\": [\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional)\",\n          \"placeDetails\": \"Enjoy views of the Las Vegas Strip from this massive observation wheel\",\n          \"placeImage\": \"https://example.com/high_roller.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1175,\n            \"longitude\": -115.1696\n          },\n          \"ticketPricing\": \"$25-37 (daytime), $37-52 (nighttime)\",\n          \"timeToTravel\": \"Located at The LINQ Promenade.\",\n          \"bestTimeToVisit\": \"Sunset for the best views.\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and beautiful cactus garden. Located a bit off the Strip (Henderson, NV).\",\n          \"placeImage\": \"https://example.com/ethel_m.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0237,\n            \"longitude\": -115.0725\n          },\n          \"ticketPricing\": \"Free (factory tour and garden entry)\",\n          \"timeToTravel\": \"Uber/Lyft or rental car (approx. 20-30 minutes from the Strip).\",\n          \"bestTimeToVisit\": \"Morning or afternoon\"\n        },\n        {\n          \"placeName\": \"Pool Time\",\n          \"placeDetails\": \"Relax by your hotel pool. Many hotels have free pool access for guests.\",\n          \"placeImage\": \"https://example.com/hotel_pool.jpg\",\n          \"geoCoordinates\": \"At your hotel\",\n          \"ticketPricing\": \"Free (for hotel guests)\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTimeToVisit\": \"Afternoon\"\n        },\n        {\n          \"placeName\": \"People Watching & Casino Hopping\",\n          \"placeDetails\": \"Walk through different casinos, observe the ambiance. Avoid excessive gambling to keep in budget\",\n          \"placeImage\": \"https://example.com/casino_hop.jpg\",\n          \"geoCoordinates\": \"Along the Strip\",\n          \"ticketPricing\": \"Free (unless you gamble)\",\n          \"timeToTravel\": \"Walking\",\n          \"bestTimeToVisit\": \"Anytime\"\n        }\n      ]\n    }\n  },\n  \"notes\": [\n    \"Prices are estimates and can vary depending on the time of year, day of the week, and availability.\",\n    \"Always check official websites for the latest schedules and pricing.\",\n    \"Take advantage of free transportation options like the Las Vegas Monorail (if staying near the stations) or the Deuce bus.\",\n    \"Look for happy hour deals and affordable restaurants to save on food and drinks.\",\n    \"Stay hydrated, especially during the hotter months.\",\n    \"Compare prices on rideshare services (Uber/Lyft) before booking.\",\n    \"Have fun and enjoy the unique experience of Las Vegas!\"\n  ]\n}\n```\n\n**Important Considerations and Tips for a Budget Trip:**\n\n*   **Travel Dates:** Avoid weekends and major holidays, as hotel and flight prices will be significantly higher. Mid-week travel is usually cheaper.\n*   **Flights:** Book flights in advance and consider flying into McCarran International Airport (LAS). Use flight comparison websites.\n*   **Transportation:** Walking is your best bet on the Strip. Consider the Deuce bus for longer distances or downtown trips. Uber/Lyft are options, but can add up.\n*   **Food:**  Look for happy hour deals, buffets with coupons, and inexpensive restaurants.  Consider bringing some snacks and drinks to save money.\n*   **Gambling:** Set a strict gambling budget and stick to it.  The casinos are designed to encourage you to spend more!\n*   **Free Activities:** Focus on the free attractions and shows that Las Vegas has to offer.  There's plenty to see and do without spending a lot of money.\n*   **Hotel Location:** A hotel further from the center of the Strip might be cheaper, but factor in transportation costs.\n*   **Check for Deals:**  Look for package deals that include flights and hotels. Check websites like Groupon for discounts.\n*   **Hydration:** The desert heat can be intense. Buy water bottles at a grocery store instead of convenience stores on the Strip.\n*   **Flexibility:**  Be open to changing your plans based on deals or unexpected opportunities.\n\nRemember to replace the placeholder image URLs (\"https://example.com/...jpg\") with actual URLs of relevant images. Also, double-check prices and availability before booking anything.  Have a great trip!\n"},
          ],
        },
      ],
    });
